<div class="container">
    <form id="validationform" method="post"
           >
        <div class="row">
            <div class="col-md-7">
                <div class="billing-details">
                    <div class="section-title">
                        <h3 class="title">Đăng ký</h3>
                        {{#if data.error}}
                            <h2 class="alert">{{data.error}}</h2>
                        {{/if}}
                    </div>
                    <div class="form-group">
                        <input class="input" type="text" name="firstName" placeholder="Nhập tên của bạn" required=""
                               value="{{data.cache.firstName}}">
                    </div>
                    <div class="form-group">
                        <input class="input" type="text" name="lastName" placeholder="Nhập Họ và tên lót" required=""
                               value="{{data.cache.lastName}}">
                    </div>
                    <div class="form-group">
                        <input class="input" type="email" name="email" placeholder="Thư điện tử" required data-parsley-type="email" data-parsley-trigger="keyup"
                               value={{data.cache.email}}>
                    </div>
                    <div class="form-group">
                        <input class="input" type="text" name="address" placeholder="Địa chỉ" required=""
                        value="{{data.cache.address}}">
                    </div>
                    <div class="form-group">
                        <input class="input" type="text" name="city" placeholder="Thành phố" required=""
                               value="{{data.cache.city}}">
                    </div>
                    <div class="form-group">
                        <input class="input" type="text" name="country" placeholder="Quốc gia" required=""
                               value="{{data.cache.country}}">
                    </div>
                    <div class="form-group">
                        <input class="input" type="text" name="phone" placeholder="Số điện thoại" required="" data-parsley-type="number"
                               data-parsley-pattern="^\(?(?:\+?61|0)4\)?(?:[ -]?[0-9]){2}\)?(?:[ -]?[0-9]){5}[0-9]$"
                               value="{{data.cache.phone}}">
                    </div>
                    <div class="form-group">
                        <input class="input" id="password" type="password" name="password" placeholder="Nhập mật khẩu"
                               required="true"
                               maxlength=15 minlength=6
                               value="{{data.cache.password}}">
                    </div>
                    <div class="form-group">
                        <input class="input" id="passwordRetype" type="password"  name="passwordRetype"

                               data-parsley-equalto="#password"
                               required="true"
                               placeholder="Xác nhật mật khẩu">
                    </div>
                    <div class="form-group">
                        <div class="input-checkbox">
                            <input type="checkbox" id="terms" name="terms" required="" {{#if data.cache}}checked{{/if}}>
                            <label for="terms">
                                <span></span>
                                Tôi đã đọc và đồng ý <a href="/dieu-khoan-chinh-sach">các điều khoản và chính sách</a>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="primary-btn order-submit">Tiếp Tục</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">
    $(function () {
        $('#validationform').parsley();
    });
</script>

<script>
    let password = document.getElementById("password")
            , confirm_password = document.getElementById("passwordRetype");

    function validatePassword(){
        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
</script>
